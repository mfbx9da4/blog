<!DOCTYPE html>
<html>
<head>
	<meta charset=”utf-8”> 
	<title>Blog</title>
    <!-- Bootstrap core CSS -->
    <link href="style/css/style.css" rel="stylesheet">
    <link href="style/css/bootstrap.min.css" rel="stylesheet">
    <link href="style/css/bootstrap-theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body> 

	 <script type="text/x-handlebars" id="application">
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">David Adler</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active">{{#link-to "posts"}}Blog{{/link-to}}</li>
            <li><a href="#about">CV</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="../navbar/">Default</a></li>
            <li class="active"><a href="./">Static top</a></li>
            <li><a href="../navbar-fixed-top/">Fixed top</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
		 <div class="container">
			 {{outlet}}
		 </div>
</div>

	 </script>

	 <script type="text/x-handlebars" id="index">
		{{#link-to "posts"}} Go to the posts page {{/link-to}}
	</script>

	 <script type="text/x-handlebars" id="posts">
		{{#link-to "posts.create" class="create-btn"}} Add post {{/link-to}}
		<div>Posts: {{postsCount}}</div>
		<ol class="posts-listing">
			{{#each post in controller}}
				<li>
				{{#link-to "post" post}}
					{{post.title}}
				{{/link-to}}
				</li>
			{{else}}
				<li>no posts… </li>
			{{/each}}
		</ol>
		<div class="container">
			<div class="row">
				{{outlet}}
			</div>
		</div>
	 </script>

	<script type="text/x-handlebars" id="post">
		{{#if deleteMode}}
			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h4 class="modal-title">Really?</h4>
			      </div>
			      <div class="modal-body">
			        <p>Permanently delete record?</p>
			      </div>
			      <div class="modal-footer">
						<button data-dismiss="modal" class="btn btn-danger" {{action "confirmDelete"}}> yes </button>
						<button data-dismiss="modal" class="btn btn-default" {{action "cancelDelete"}}> no </button>
			      </div>
			    </div>
			  </div>
			</div>
		{{/if}}

		<div class="col-md-6">

			 <div class="post-profile">
				<button class="btn btn-default" {{action "edit"}}>Edit</button>
				<button data-toggle="modal" data-target="#myModal"  class="btn btn-danger" {{action "delete"}}>Delete</button>

				 <h1>{{title}}</h1>
				 <article>{{formatMarkdown article}}</article>
				 <hr>
				 <span>Created {{formatDate dateCreated}},</span>
				 <span>modified {{formatDate dateModified}}.</span>
			</div>
		</div>

		{{outlet}}
	</script>

	<script type="text/x-handlebars" id="post/edit">
	<div class="col-md-6">
		<button class="btn btn-success"{{action "save"}}> ok </button>
		<div class="post-edit">
			 <h2>Post title</h2>
			 {{input class="form-control" value=title}}<br>
			 <h2>Post content</h2>
			 {{textarea name="editor" value=article}}<br>
			 <div id="editor"></div>
			 {{aceEditor}}
			 <br>
		</div>
	</div>

	</script>

	<script src="output/libs.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="output/app.min.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>
